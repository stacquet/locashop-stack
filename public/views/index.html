<!-- public/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <base href="/">

    <title>Starter Node and Angular</title>
	<link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,800,600,300,700'
	rel='stylesheet' type='text/css'>
    <!-- CSS -->
    <link rel="stylesheet" href="libs/bootstrap/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css"> <!-- load fontawesome -->
    <link rel="stylesheet" href="css/style.css"> <!-- custom styles -->
	<link href="libs/angular-xeditable/dist/css/xeditable.css" rel="stylesheet">

    <!-- JS -->
	
	<!-- <script src='//maps.googleapis.com/maps/api/js?sensor=false'></script>
	<script src="libs/bootstrap/dist/js/bootstrap.min.js"></script> -->
	<script type="text/javascript">
	 if (window.location.hash && window.location.hash === "#_=_") {
		  // If you are not using Modernizr, then the alternative is:
		  //   `if (window.history && history.replaceState) {`
		  if (Modernizr.history) {
		    window.history.replaceState("", document.title, window.location.pathname);
		  } else {
		    // Prevent scrolling by storing the page's current scroll offset
		    var scroll = {
		      top: document.body.scrollTop,
		      left: document.body.scrollLeft
		    };
		    window.location.hash = "";
		    // Restore the scroll offset, should be flicker free
		    document.body.scrollTop = scroll.top;
		    document.body.scrollLeft = scroll.left;
		  }
		}
	</script>
	<script src="libs/jquery/dist/jquery.min.js"></script>	 
    <script src="libs/angular/angular.min.js"></script>
    <script src="libs/angular-route/angular-route.min.js"></script>
	<script src='libs/lodash/dist/lodash.js'></script>
	<script src='libs/angular-google-maps/dist/angular-google-maps.js'></script>
	<!-- <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script> -->
	<script src="libs/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- ANGULAR CUSTOM -->
    <script src="js/controllers/MainCtrl.js"></script>
    <script src="js/controllers/ProducteurCtrl.js"></script>
	<script src="js/controllers/ValidationAdresseCtrl.js"></script>
	<script src="js/controllers/UserCtrl.js"></script>

	<script src="js/controllers/AuthentificationCtrl.js"></script>
    <script src="js/services/AuthentificationService.js"></script>
    <script src="js/services/ProducteurService.js"></script>
    <script src="js/services/UserService.js"></script>
    <script src="js/appRoutes.js"></script>
    <script src="js/app.js"></script>
	<script src="libs/angular-xeditable/dist/js/xeditable.js"></script>

</head>
<body ng-app="locashopApp" ng-controller="AuthentificationController">
	<div class="container">

		<!-- HEADER
		<nav class="navbar navbar-default">
			<div class="container-fluid">
				<ul class="nav navbar-nav">
					<li><a href="/"><span class="glyphicon glyphicon-home"></span></a></li>
					<li><a href="/magasin">Le magasin</a></li>
					<li><a href="/producteurs">Nos producteurs</a></li>
					<li ng-show="$root.isLoggedIn"><a href="/livraisons">Livraisons dans l'heure</a></li>
				</ul>				
				<ul ng-show="$root.isLoggedIn" class="nav navbar-nav">
					<li><a href="/auth/validationAdresse">Validation d'adresse</a></li>
				</ul>
				<ul class="nav navbar-nav">
					<li ng-show="$root.isLoggedIn" class="dropdown">
					  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Admin<span class="caret"></span></a>
					  <ul class="dropdown-menu" role="menu">
						<li><a href="/profils">Gestion des profils</a></li>
						<li><a href="/users">Gestion des utilisateurs</a></li>
					  </ul>
					</li>
				</ul>
				<ul class="nav navbar-nav navbar-right spacer-right">
					<li ng-show="!$root.isLoggedIn"><a href="/auth/inscription">Inscription</a></li>
					<li ng-show="$root.isLoggedIn" class="dropdown">
					  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">{{$root.userInfo.email}} <span class="caret"></span></a>
					  <ul class="dropdown-menu" role="menu">
						<li><a href="/user/producteur">Mon espace producteur</a></li>
						<li><a ng-href="/user/profil/{{$root.userInfo.id_user}}">Mon profil</a></li>
						<li><a ng-click="logout()" href="/">Logout</a></li>
					  </ul>
					</li>
					<li ng-show="!$root.isLoggedIn">
						<a href="/auth/login">Login</a>
					</li>
				</ul>
			</div>
		</nav>	-->	
		
		<nav class="navbar navbar-default">
		  <div class="container-fluid">
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header">
			  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#menu-principal">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			  </button>
			  <a class="navbar-brand" href="/"><span class="glyphicon glyphicon-home"></span></a>
			</div>

			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse" id="menu-principal">
			  <ul class="nav navbar-nav">
				<li><a href="/magasin" data-toggle="collapse" data-target=".navbar-collapse">Le magasin <!-- <span class="sr-only">(current)</span> --></a></li>
				<li><a href="#" data-toggle="collapse" data-target=".navbar-collapse">Nos producteurs</a></li>
				<li ng-show="$root.isLoggedIn"><a href="/livraisons" data-toggle="collapse" data-target=".navbar-collapse">Livraisons dans l'heure</a></li>
				<li ng-show="!$root.isLoggedIn"><a href="/auth/inscription" data-toggle="collapse" data-target=".navbar-collapse">Inscription</a></li>
			  </ul>
			  <ul class="nav navbar-nav navbar-right">
					<li ng-show="$root.isLoggedIn" class="dropdown">
					  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">{{$root.userInfo.email}} <span class="caret"></span></a>
					  <ul class="dropdown-menu" role="menu">
						<li><a href="/user/producteur" data-toggle="collapse" data-target=".navbar-collapse">Mon espace producteur</a></li>
						<li><a ng-href="/user/profil/{{$root.userInfo.id_user}} data-toggle="collapse" data-target=".navbar-collapse"">Mon profil</a></li>
						<li class="divider"></li>
						<li><a ng-click="logout()" href="/" data-toggle="collapse" data-target=".navbar-collapse" >Logout</a></li>
					  </ul>
					</li>
					<li ng-show="!$root.isLoggedIn">
						<a href="/auth/login">Login</a>
					</li>
			  </ul>
			</div><!-- /.navbar-collapse -->
		  </div><!-- /.container-fluid -->
		</nav>		

		<!-- ANGULAR DYNAMIC CONTENT -->
		<div ng-view></div>

	</div>
</body>
</html>

